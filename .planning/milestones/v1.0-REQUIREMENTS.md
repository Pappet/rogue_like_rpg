# Requirements Archive: v1.0 MVP

**Archived:** 2026-02-14
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements for Rogue Like RPG

This document outlines the requirements for version 1 of the Rogue Like RPG.

## Core Requirements

- `GAME-001`: The game must launch successfully and display a title screen.
- `GAME-002`: The player must be able to start a new game from the title screen.

## Additional Requirements
- `FEAT-002`: The game will be using PyGame.
- `FEAT-003`: The game will be tile-based.
- `FEAT-004`: The game will be turn-based.
- `FEAT-005`: The player will control a group of up to 3 heroes, who move as a single unit.
- `FEAT-006`: The graphics will be sprite-based with different layers.
- `FEAT-007`: The tile size will be configurable.

## Combat & Feedback Requirements (Phase 4)
- `UI-001`: The game must display a message log in the bottom screen area.
- `UI-002`: The message log must support colored text parsing.
- `ARCH-001`: An event system must broadcast game events to subscribers (like the log).
- `ENT-001`: The game must support Monster entities (e.g., Ork) with stats (HP, Power, Defense).
- `MECH-001`: The player must be able to attack monsters by moving into them (Bump Combat).
- `MECH-002`: Combat must calculate damage and apply it to the target's HP.
- `MECH-003`: Entities must die when HP reaches 0, changing visual to a corpse and becoming non-blocking.

## Nested Worlds & Navigation Requirements (Phase 5-6)
- `ARCH-002`: **Portal ECS Component**: Create a component storing target container, layer, and coordinates.
- `ARCH-003`: **Multi-Container MapService**: Manage multiple loaded containers and allow switching without immediate data loss.
- `MECH-004`: **Advanced Transition Logic**: Implement entry/exit points returning to specific layers (e.g., exiting a house to a balcony).
- `MECH-005`: **Active Map Memory**: "Pause" background maps and transition to FORGOTTEN state only after a time/turn delay.
- `UI-003`: **World Map UI**: Display an overview map of discovered areas within the current and parent containers.

## Layered Rendering & Structure Requirements (Phase 7)
- `VIS-001`: **Selective Layer Rendering**: Render only map layers at or below the player's current layer to simulate depth.
- `VIS-002`: **Depth Darkening**: Apply a darkening effect to layers rendered below the player's current layer.
- `MAP-001`: **Structural Elements**: Implement distinct walls and rooms in the Village and House maps to improve layout logic.

## Procedural Map Features Requirements (Phase 8)
- `GEN-001`: **Geometric Utils**: Implement utility functions for drawing basic shapes (rectangles, lines) on map layers.
- `GEN-002`: **Building Generator**: Create a generator that automatically constructs multi-story buildings with walls, doors, and stairs.
- `GEN-003`: **Environment Detail**: Implement a system to apply random terrain variety (decor sprites) to map layers.

## Data-Driven Architecture & Investigation Requirements (Phase 9-11)
- `DATA-001`: **Tile Registry**: Load tile properties (walkable, transparent, sprite, description) from an external configuration file (`tile_types.json`).
- `DATA-002`: **Map Prefab System**: Load map structures (houses, rooms) from external files (JSON/TXT) and place them on map layers using coordinates.
- `DATA-003`: **Entity Templates**: Define entity stats (HP, Power, Defense) and renderables in an external configuration file (`entities.json`).
- `ARCH-004`: **Generic Entity Factory**: Refactor entity creation to use a factory pattern that initializes entities based on templates from `entities.json`.
- `MECH-006`: **Description Component**: Implement an ECS component that supports static text and dynamic placeholders for entity/object descriptions.
- `MECH-007`: **Configurable Tile Logic**: Ensure special tile behaviors (e.g., roof transparency, walkability) can be configured via the data files.

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| GAME-001 | Phase 1 | Completed |
| GAME-002 | Phase 1 | Completed |
| FEAT-003 | Phase 2 | Completed |
| FEAT-004 | Phase 2 | Completed |
| FEAT-005 | Phase 2 | Completed |
| FEAT-006 | Phase 2 | Completed |
| FEAT-007 | Phase 2 | Completed |
| UI-001 | Phase 4 | Completed |
| UI-002 | Phase 4 | Completed |
| ARCH-001 | Phase 4 | Completed |
| ENT-001 | Phase 4 | Completed |
| MECH-001 | Phase 4 | Completed |
| MECH-002 | Phase 4 | Completed |
| MECH-003 | Phase 4 | Completed |
| ARCH-002 | Phase 5 | Completed |
| ARCH-003 | Phase 5 | Completed |
| MECH-004 | Phase 5 | Completed |
| MECH-005 | Phase 6 | Completed |
| UI-003 | Phase 6 | Completed |
| VIS-001 | Phase 7 | Completed |
| VIS-002 | Phase 7 | Completed |
| MAP-001 | Phase 7 | Completed |
| GEN-001 | Phase 8 | Completed |
| GEN-002 | Phase 8 | Completed |
| GEN-003 | Phase 8 | Completed |
| DATA-001 | Phase 9 | Planned |
| DATA-002 | Phase 10 | Planned |
| DATA-003 | Phase 10 | Planned |
| ARCH-004 | Phase 10 | Planned |
| MECH-006 | Phase 11 | Planned |
| MECH-007 | Phase 9 | Planned |