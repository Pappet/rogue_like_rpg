---
phase: 01-game-foundation
plan: 1
type: execute
wave: 1
depends_on: []
files_modified:
  - "main.py"
  - "game_states.py"
  - "config.py"
autonomous: true
user_setup: []
must_haves:
  truths:
    - "Game launches and shows a window."
    - "Title screen is visible with a 'New Game' button."
    - "Clicking 'New Game' changes the screen."
  artifacts:
    - path: "main.py"
      provides: "Main game loop and Pygame initialization."
    - path: "game_states.py"
      provides: "Initial game state management (e.g., Title, Game)."
    - path: "config.py"
      provides: "Basic settings like screen width and height."
  key_links:
    - from: "main.py"
      to: "game_states.py"
      via: "import and state transition logic"
---

<objective>
Set up the basic structure of the game, including a functional title screen and the ability to start a new game.

Purpose: This establishes the foundation of the game, fulfilling the core requirements of launching the application and starting a play session.
Output: A runnable Pygame application that shows a title screen and transitions to a blank "game" screen.
</objective>

<execution_context>
@/home/peter/.gemini/get-shit-done/workflows/execute-plan.md
@/home/peter/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Pygame and Create Game Window</name>
  <files>
    - "main.py"
    - "config.py"
  </files>
  <action>
    - Create a `config.py` to store settings like screen width, height, and title.
    - Create a `main.py` file.
    - In `main.py`, import Pygame.
    - Initialize Pygame and create a display window using the settings from `config.py`.
    - Create a basic game loop that handles the QUIT event.
  </action>
  <verify>
    - Run `python main.py`.
    - A Pygame window should appear with the correct title and dimensions.
    - The window should close when the close button is clicked.
  </verify>
  <done>
    - A windowed application can be launched successfully.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Title Screen State</name>
  <files>
    - "main.py"
    - "game_states.py"
  </files>
  <action>
    - Create `game_states.py` to manage different parts of the game (e.g., title screen, main game).
    - In `game_states.py`, create a `TitleScreen` class. This class should handle drawing the title and a "New Game" button.
    - In `main.py`, create an instance of the `TitleScreen` and call its update and draw methods within the main loop.
    - For now, the "New Game" button can just be a rectangle.
  </action>
  <verify>
    - Run `python main.py`.
    - The window should display the game title and a rectangle representing the "New Game" button.
  </verify>
  <done>
    - The title screen is displayed with a visible "New Game" option.
  </done>
</task>

<task type="auto">
  <name>Task 3: Implement Game State Transition</name>
  <files>
    - "main.py"
    - "game_states.py"
  </files>
  <action>
    - In `game_states.py`, create a simple `Game` class that represents the main gameplay state. For now, it can just draw a black screen.
    - In `main.py`, add logic to the main loop to detect a click on the "New Game" button.
    - When the button is clicked, change the game state from the `TitleScreen` to the `Game` state.
  </action>
  <verify>
    - Run `python main.py`.
    - Click the "New Game" button.
    - The title screen should disappear and be replaced by a black screen.
  </verify>
  <done>
    - Selecting "New Game" successfully transitions to the main game state.
  </done>
</task>

</tasks>

<verification>
- The application launches without any errors.
- The title screen is the first thing the user sees.
- Clicking the "New Game" button transitions to a different screen.
</verification>

<success_criteria>
- All tasks are completed.
- The `main.py` is runnable.
- The core requirements `GAME-001` and `GAME-002` are met.
</success_criteria>

<output>
After completion, create `.planning/phases/01-game-foundation/01-01-SUMMARY.md`
</output>
